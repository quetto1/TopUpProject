(function(){"use strict";var e={6827:function(e,t,s){var i=s(9242),a=s(678),r=s(3396),n=s(7139);const l=(0,r._)("header",null,[(0,r._)("h2",null,"Contact person now!")],-1);function o(e,t,s,i,a,o){const d=(0,r.up)("base-card"),c=(0,r.up)("router-view"),u=(0,r.up)("base-badge");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r._)("h1",null,(0,n.zw)(o.serviceName),1),(0,r._)("h2",null,(0,n.zw)(o.fullName),1),(0,r._)("h3",null,"$"+(0,n.zw)(o.price),1)])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[l,(0,r.Wm)(c)])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.areas,(e=>((0,r.wg)(),(0,r.j4)(u,{key:e,type:e,title:e},null,8,["type","title"])))),128)),(0,r._)("p",null,(0,n.zw)(o.description),1)])),_:1})])],64)}var d={props:["id"],data(){return{selectedService:null}},computed:{serviceName(){return this.selectedService.serviceTitle},fullName(){return this.selectedService.firstName+" "+this.selectedService.lastName},description(){return this.selectedService.description},areas(){return this.selectedService.areas},price(){return this.selectedService.hourlyRate},contactLink(){return this.$route.path+"/"+this.id+"/contact"}},created(){this.selectedService=this.$store.getters["services/services"].find((e=>e.id===this.id))}},c=s(89);const u=(0,c.Z)(d,[["render",o]]);var m=u;const p={class:"controls"},v=(0,r.Uk)("Reload"),h=(0,r.Uk)("Login"),f={key:0},g={key:1};function w(e,t,s,i,a,n){const l=(0,r.up)("service-filter"),o=(0,r.up)("base-button"),d=(0,r.up)("service-item"),c=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",null,[(0,r.Wm)(l,{onChangeFilter:n.setFilters},null,8,["onChangeFilter"])]),(0,r._)("section",null,[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r._)("div",p,[(0,r.Wm)(o,{mode:"outline",onClick:n.loadServices},{default:(0,r.w5)((()=>[v])),_:1},8,["onClick"]),n.isLoggedIn?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(o,{key:0,link:"",to:"/auth"},{default:(0,r.w5)((()=>[h])),_:1}))]),n.hasServices?((0,r.wg)(),(0,r.iD)("ul",f,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.filteredServices,(e=>((0,r.wg)(),(0,r.j4)(d,{key:e.id,id:e.id,"service-title":e.serviceTitle,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","service-title","first-name","last-name","rate","areas"])))),128))])):((0,r.wg)(),(0,r.iD)("h3",g,"No services found."))])),_:1})])],64)}s(6699);const _=e=>((0,r.dD)("data-v-5db99fb6"),e=e(),(0,r.Cn)(),e),b=_((()=>(0,r._)("hr",null,null,-1))),k={class:"actions"},y=(0,r.Uk)("Show details");function I(e,t,s,i,a,l){const o=(0,r.up)("base-badge"),d=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("li",null,[(0,r._)("h1",null,(0,n.zw)(s.serviceTitle),1),(0,r._)("h3",null,(0,n.zw)(l.fullName),1),(0,r._)("h4",null,"Price: "+(0,n.zw)(s.rate)+"DKK",1),b,(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.areas,(e=>((0,r.wg)(),(0,r.j4)(o,{key:e,type:e,title:e},null,8,["type","title"])))),128))]),(0,r._)("div",k,[(0,r.Wm)(d,{mode:"outLine",link:"",to:l.serviceContactLink},{default:(0,r.w5)((()=>[y])),_:1},8,["to"])])])}var S={props:["id","serviceTitle","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},serviceContactLink(){return this.$route.path+"/"+this.id+"/contact"},serviceDetailsLink(){return this.$route.path+"/"+this.id}}};const V=(0,c.Z)(S,[["render",I],["__scopeId","data-v-5db99fb6"]]);var D=V;const q=e=>((0,r.dD)("data-v-7a01a9e0"),e=e(),(0,r.Cn)(),e),N=q((()=>(0,r._)("h2",null,"Find Service",-1))),C={class:"filter-option"},U=q((()=>(0,r._)("label",{for:"business"},"Business",-1))),x={class:"filter-option"},T=q((()=>(0,r._)("label",{for:"development"},"Development",-1))),$={class:"filter-option"},F=q((()=>(0,r._)("label",{for:"teaching"},"Teaching",-1))),R={class:"filter-option"},j=q((()=>(0,r._)("label",{for:"design"},"Design",-1))),W={class:"filter-option"},H=q((()=>(0,r._)("label",{for:"fitness"},"Fitness",-1))),O={class:"filter-option"},E=q((()=>(0,r._)("label",{for:"other"},"Other",-1)));function L(e,t,s,i,a,n){const l=(0,r.up)("base-card");return(0,r.wg)(),(0,r.j4)(l,null,{default:(0,r.w5)((()=>[N,(0,r._)("span",C,[(0,r._)("input",{type:"checkbox",id:"business",checked:"",onChange:t[0]||(t[0]=(...e)=>n.filterHandler&&n.filterHandler(...e))},null,32),U]),(0,r._)("span",x,[(0,r._)("input",{type:"checkbox",id:"development",checked:"",onChange:t[1]||(t[1]=(...e)=>n.filterHandler&&n.filterHandler(...e))},null,32),T]),(0,r._)("span",$,[(0,r._)("input",{type:"checkbox",id:"teaching",checked:"",onChange:t[2]||(t[2]=(...e)=>n.filterHandler&&n.filterHandler(...e))},null,32),F]),(0,r._)("span",R,[(0,r._)("input",{type:"checkbox",id:"design",checked:"",onChange:t[3]||(t[3]=(...e)=>n.filterHandler&&n.filterHandler(...e))},null,32),j]),(0,r._)("span",W,[(0,r._)("input",{type:"checkbox",id:"fitness",checked:"",onChange:t[4]||(t[4]=(...e)=>n.filterHandler&&n.filterHandler(...e))},null,32),H]),(0,r._)("span",O,[(0,r._)("input",{type:"checkbox",id:"other",checked:"",onChange:t[5]||(t[5]=(...e)=>n.filterHandler&&n.filterHandler(...e))},null,32),E])])),_:1})}var M={emits:["change-filter"],data(){return{filters:{business:!0,development:!0,teaching:!0,design:!0,fitness:!0,other:!0}}},methods:{filterHandler(e){const t=e.target.id,s=e.target.checked,i={...this.filters,[t]:s};this.filters=i,this.$emit("change-filter",i)}}};const Z=(0,c.Z)(M,[["render",L],["__scopeId","data-v-7a01a9e0"]]);var z=Z,P={components:{ServiceItem:D,ServiceFilter:z},data(){return{activeFilters:{business:!0,development:!0,teaching:!0,design:!0,fitness:!0,other:!0}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},filteredServices(){const e=this.$store.getters["services/services"];return e.filter((e=>!(!this.activeFilters.business||!e.areas.includes("business"))||(!(!this.activeFilters.development||!e.areas.includes("development"))||(!(!this.activeFilters.teaching||!e.areas.includes("teaching"))||(!(!this.activeFilters.design||!e.areas.includes("design"))||(!(!this.activeFilters.fitness||!e.areas.includes("fitness"))||!(!this.activeFilters.other||!e.areas.includes("other"))))))))},isService(){return this.$store.getters["services/isService"]},hasServices(){return this.$store.getters["services/hasServices"]}},created(){this.loadServices()},methods:{loadServices(){this.$store.dispatch("services/loadServices")},setFilters(e){this.activeFilters=e}}};const A=(0,c.Z)(P,[["render",w],["__scopeId","data-v-8e8b1264"]]);var B=A;const Y=(0,r._)("h2",null,"Register new service!",-1);function G(e,t,s,i,a,n){const l=(0,r.up)("service-form"),o=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[Y,(0,r.Wm)(l,{onSaveData:n.storeData},null,8,["onSaveData"])])),_:1})])}const K=e=>((0,r.dD)("data-v-085336e4"),e=e(),(0,r.Cn)(),e),Q=K((()=>(0,r._)("label",{for:"servicetitle"},"Name of Service",-1))),J={key:0},X=K((()=>(0,r._)("label",{for:"firstname"},"First name",-1))),ee={key:0},te=K((()=>(0,r._)("label",{for:"lastname"},"Last name",-1))),se={key:0},ie=K((()=>(0,r._)("label",{for:"description"},"Description",-1))),ae={key:0},re=K((()=>(0,r._)("label",{for:"rate"},"Price",-1))),ne={key:0},le=K((()=>(0,r._)("h3",null,"Select a category",-1))),oe=K((()=>(0,r._)("label",{for:"business"},"Business service",-1))),de=K((()=>(0,r._)("label",{for:"development"},"Development/IT service",-1))),ce=K((()=>(0,r._)("label",{for:"teaching"},"Teacher",-1))),ue=K((()=>(0,r._)("label",{for:"design"},"Design",-1))),me=K((()=>(0,r._)("label",{for:"fitness"},"Fitness",-1))),pe=K((()=>(0,r._)("label",{for:"other"},"Other service",-1))),ve={key:0},he={key:0},fe=(0,r.Uk)("Create new Service!");function ge(e,t,s,a,l,o){const d=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[11]||(t[11]=(0,i.iM)(((...e)=>o.formHandler&&o.formHandler(...e)),["prevent"]))},[(0,r._)("div",{class:(0,n.C_)(["form-control",{invalid:!l.serviceTitle.isValid}])},[Q,(0,r.wy)((0,r._)("input",{type:"text",id:"servicetitle","onUpdate:modelValue":t[0]||(t[0]=e=>l.serviceTitle.val=e)},null,512),[[i.nr,l.serviceTitle.val,void 0,{trim:!0}]]),l.serviceTitle.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",J,"This field cannot be empty"))],2),(0,r._)("div",{class:(0,n.C_)(["form-control",{invalid:!l.firstName.isValid}])},[X,(0,r.wy)((0,r._)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[1]||(t[1]=e=>l.firstName.val=e)},null,512),[[i.nr,l.firstName.val,void 0,{trim:!0}]]),l.firstName.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ee,"This field cannot be empty"))],2),(0,r._)("div",{class:(0,n.C_)(["form-control",{invalid:!l.lastName.isValid}])},[te,(0,r.wy)((0,r._)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=e=>l.lastName.val=e)},null,512),[[i.nr,l.lastName.val,void 0,{trim:!0}]]),l.lastName.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",se,"This field cannot be empty"))],2),(0,r._)("div",{class:(0,n.C_)(["form-control",{invalid:!l.description.isValid}])},[ie,(0,r.wy)((0,r._)("textarea",{type:"text",id:"description","onUpdate:modelValue":t[3]||(t[3]=e=>l.description.val=e)},null,512),[[i.nr,l.description.val]]),l.description.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ae,"This field cannot be empty"))],2),(0,r._)("div",{class:(0,n.C_)(["form-control",{invalid:!l.rate.isValid}])},[re,(0,r.wy)((0,r._)("input",{type:"number",id:"rate","onUpdate:modelValue":t[4]||(t[4]=e=>l.rate.val=e)},null,512),[[i.nr,l.rate.val,void 0,{number:!0}]]),l.rate.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ne,"This field has to be greater than 0"))],2),(0,r._)("div",{class:(0,n.C_)(["form-control",{invalid:!l.areas.isValid}])},[le,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"business",value:"business","onUpdate:modelValue":t[5]||(t[5]=e=>l.areas.val=e)},null,512),[[i.e8,l.areas.val]]),oe]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"development",value:"development","onUpdate:modelValue":t[6]||(t[6]=e=>l.areas.val=e)},null,512),[[i.e8,l.areas.val]]),de]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"teaching",value:"teaching","onUpdate:modelValue":t[7]||(t[7]=e=>l.areas.val=e)},null,512),[[i.e8,l.areas.val]]),ce]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"design",value:"design","onUpdate:modelValue":t[8]||(t[8]=e=>l.areas.val=e)},null,512),[[i.e8,l.areas.val]]),ue]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"fitness",value:"fitness","onUpdate:modelValue":t[9]||(t[9]=e=>l.areas.val=e)},null,512),[[i.e8,l.areas.val]]),me]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"other",value:"other","onUpdate:modelValue":t[10]||(t[10]=e=>l.areas.val=e)},null,512),[[i.e8,l.areas.val]]),pe]),l.areas.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ve,"U need to select at least one checkbox"))],2),l.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",he,"Plese fill the form corectly")),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[fe])),_:1})],32)}var we={emits:["save-data"],data(){return{serviceTitle:{val:"",isValid:!0},firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{formValidation(){this.formIsValid=!0,""===this.serviceTitle.val&&(this.serviceTitle.isValid=!1,this.formIsValid=!1),""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},formHandler(){if(this.formValidation(),!this.formIsValid)return;const e={title:this.serviceTitle,first:this.firstName,last:this.lastName,desc:this.description,rate:this.rate,areas:this.areas};this.$emit("save-data",e)}}};const _e=(0,c.Z)(we,[["render",ge],["__scopeId","data-v-085336e4"]]);var be=_e,ke={components:{ServiceForm:be},methods:{storeData(e){this.$store.dispatch("services/addService",e),console.log(e),this.$router.replace("/services")}}};const ye=(0,c.Z)(ke,[["render",G]]);var Ie=ye;const Se=e=>((0,r.dD)("data-v-12cb1722"),e=e(),(0,r.Cn)(),e),Ve={class:"form-control"},De=Se((()=>(0,r._)("label",{for:"email"},"Your E-Mail",-1))),qe={class:"form-control"},Ne=Se((()=>(0,r._)("label",{for:""},"Message",-1))),Ce={key:0,class:"errors"},Ue={class:"actions"},xe=(0,r.Uk)("Send Message");function Te(e,t,s,a,n,l){const o=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,r._)("div",Ve,[De,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e)},null,512),[[i.nr,n.email,void 0,{trim:!0}]])]),(0,r._)("div",qe,[Ne,(0,r.wy)((0,r._)("textarea",{rows:"5",id:"message","onUpdate:modelValue":t[1]||(t[1]=e=>n.message=e)},null,512),[[i.nr,n.message,void 0,{trim:!0}]])]),n.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",Ce,"Enter a valid email!")),(0,r._)("div",Ue,[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[xe])),_:1})])],32)}var $e={data(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm(){this.formIsValid=!0,""!=this.email&&this.email.includes("@")&&""!==this.message?(this.$store.dispatch("requests/contactService",{email:this.email,message:this.message,serviceId:this.$route.params.id}),this.$router.replace("/services")):this.formIsValid=!1}}};const Fe=(0,c.Z)($e,[["render",Te],["__scopeId","data-v-12cb1722"]]);var Re=Fe;function je(e,t){return(0,r.wg)(),(0,r.iD)("section",null," Error 404. ")}const We={},He=(0,c.Z)(We,[["render",je]]);var Oe=He;const Ee=e=>((0,r.dD)("data-v-906d4aaa"),e=e(),(0,r.Cn)(),e),Le=Ee((()=>(0,r._)("header",null,[(0,r._)("h2",null,"Messages")],-1))),Me={key:0},Ze={key:1};function ze(e,t,s,i,a,n){const l=(0,r.up)("message-item"),o=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[Le,n.hasRequest?((0,r.wg)(),(0,r.iD)("h3",Ze,"Your mailbox is empty")):((0,r.wg)(),(0,r.iD)("ul",Me,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.getAllRequests,(e=>((0,r.wg)(),(0,r.j4)(l,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])))),128))]))])),_:1})])}const Pe=["href"];function Ae(e,t,s,i,a,l){return(0,r.wg)(),(0,r.iD)("li",null,[(0,r._)("div",null,[(0,r._)("a",{href:l.emailLink},(0,n.zw)(s.email),9,Pe)]),(0,r._)("p",null,(0,n.zw)(s.message),1)])}var Be={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}};const Ye=(0,c.Z)(Be,[["render",Ae],["__scopeId","data-v-18040fba"]]);var Ge=Ye,Ke={components:{MessageItem:Ge},computed:{getAllRequests(){return this.$store.getters["requests/getAllRequests"]},hasRequest(){return this.$store.getters["requests/hasRequest"]}},created(){this.loadMessages()},methods:{loadMessages(){this.$store.dispatch("requests/fetchRequests")}}};const Qe=(0,c.Z)(Ke,[["render",ze],["__scopeId","data-v-906d4aaa"]]);var Je=Qe;const Xe=e=>((0,r.dD)("data-v-5128b38d"),e=e(),(0,r.Cn)(),e),et={class:"form-control"},tt=Xe((()=>(0,r._)("label",{for:"email"},"E-Mail",-1))),st={class:"form-control"},it=Xe((()=>(0,r._)("label",{for:"password"},"Password",-1))),at={key:0};function rt(e,t,s,a,l,o){const d=(0,r.up)("base-button"),c=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r._)("div",et,[tt,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e)},null,512),[[i.nr,l.email,void 0,{trim:!0}]])]),(0,r._)("div",st,[it,(0,r.wy)((0,r._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e)},null,512),[[i.nr,l.password,void 0,{trim:!0}]])]),l.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",at,"Password must be longer than 6!")),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(o.submitButtonCaption),1)])),_:1}),(0,r.Wm)(d,{type:"button",mode:"flat",onClick:o.switchAuthMode},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(o.switchModeButtonCaption),1)])),_:1},8,["onClick"])])),_:1})],32)}var nt={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return this.formIsValid=!1,void console.log("failed to log in");const e={email:this.email,password:this.password};try{"login"===this.mode?(await this.$store.dispatch("login",e),console.log("login "+e.email+" "+e.password)):(await this.$store.dispatch("signup",e),console.log("signup "+e.email+" "+e.password)),console.log("not error")}catch(t){this.error=t.message||"failed to authenticate",console.log("Error")}},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}}};const lt=(0,c.Z)(nt,[["render",rt],["__scopeId","data-v-5128b38d"]]);var ot=lt;const dt=(0,a.p7)({history:(0,a.PO)(),routes:[{path:"/",redirect:"/services"},{path:"/services",component:B},{path:"/services/:id",component:m,props:!0,children:[{path:"contact",component:Re}]},{path:"/register",component:Ie},{path:"/requests",component:Je},{path:"/auth",component:ot},{path:"/:notFound(.*)",component:Oe}]});var ct=dt;function ut(e,t,s,i,a,n){const l=(0,r.up)("the-header"),o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r.Wm)(o)],64)}const mt=(0,r.Uk)("Service App!"),pt=(0,r.Uk)("Register service"),vt=(0,r.Uk)("Services!"),ht={key:0},ft=(0,r.Uk)("Mailbox"),gt={key:1},wt=(0,r.Uk)("Login"),_t={key:2},bt=(0,r.Uk)("Logout");function kt(e,t,s,i,a,n){const l=(0,r.up)("router-link"),o=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("header",null,[(0,r._)("nav",null,[(0,r._)("h1",null,[(0,r.Wm)(l,{to:"/"},{default:(0,r.w5)((()=>[mt])),_:1})]),(0,r._)("ul",null,[(0,r._)("li",null,[n.isLoggedIn?((0,r.wg)(),(0,r.j4)(o,{key:0,link:"",to:"/register"},{default:(0,r.w5)((()=>[pt])),_:1})):(0,r.kq)("",!0)]),(0,r._)("li",null,[(0,r.Wm)(l,{to:"/services"},{default:(0,r.w5)((()=>[vt])),_:1})]),n.isLoggedIn?((0,r.wg)(),(0,r.iD)("li",ht,[(0,r.Wm)(l,{to:"/requests"},{default:(0,r.w5)((()=>[ft])),_:1})])):((0,r.wg)(),(0,r.iD)("li",gt,[(0,r.Wm)(l,{to:"/auth"},{default:(0,r.w5)((()=>[wt])),_:1})])),n.isLoggedIn?((0,r.wg)(),(0,r.iD)("li",_t,[(0,r.Wm)(o,{onClick:n.logout},{default:(0,r.w5)((()=>[bt])),_:1},8,["onClick"])])):(0,r.kq)("",!0)])])])}function yt(e,t,s,i,a,l){const o=(0,r.up)("router-link");return s.link?((0,r.wg)(),(0,r.j4)(o,{key:1,to:s.to,class:(0,n.C_)(s.mode)},{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","class"])):((0,r.wg)(),(0,r.iD)("button",{key:0,class:(0,n.C_)(s.mode)},[(0,r.WI)(e.$slots,"default",{},void 0,!0)],2))}var It={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};const St=(0,c.Z)(It,[["render",yt],["__scopeId","data-v-6538fe0d"]]);var Vt=St,Dt={components:{BaseButton:Vt},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout")}}};const qt=(0,c.Z)(Dt,[["render",kt],["__scopeId","data-v-282202d9"]]);var Nt=qt,Ct={components:{TheHeader:Nt}};const Ut=(0,c.Z)(Ct,[["render",ut]]);var xt=Ut,Tt=s(65),$t={addService(e,t){e.services.push(t)},setServices(e,t){e.services=t}},Ft={async addService(e,t){const s=e.rootGetters.userId,i={serviceTitle:t.title,firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},a=e.rootGetters.token,r=await fetch(`https://web-development-project-8ae61-default-rtdb.europe-west1.firebasedatabase.app/services/${s}.json?auth=`+a,{method:"PUT",body:JSON.stringify(i)});r.ok,e.commit("addService",{...i,id:s})},async loadServices(e){const t=await fetch("https://web-development-project-8ae61-default-rtdb.europe-west1.firebasedatabase.app/services.json"),s=await t.json();t.ok;const i=[];for(const a in s){const e={id:a,serviceTitle:s[a].serviceTitle.val,firstName:s[a].firstName.val,lastName:s[a].lastName.val,description:s[a].description.val,hourlyRate:s[a].hourlyRate.val,areas:s[a].areas.val};i.push(e)}e.commit("setServices",i),console.log(i)}},Rt={services(e){return e.services},hasServices(e){return e.services&&e.services.length>0},isService(e,t,s,i){const a=t.services,r=i.userId;return a.some((e=>e.id===r))}},jt={namespaced:!0,state(){return{services:[]}},mutations:$t,actions:Ft,getters:Rt},Wt={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},Ht={async contactService(e,t){const s={userEmail:t.email,message:t.message},i=await fetch(`https://web-development-project-8ae61-default-rtdb.europe-west1.firebasedatabase.app/requests/${t.serviceId}.json`,{method:"POST",body:JSON.stringify(s)}),a=await i.json();s.id=a.name,s.serviceId=t.serviceId,e.commit("addRequest",s)},async fetchRequests(e){const t=e.rootGetters.userId,s=e.rootGetters.token,i=await fetch(`https://web-development-project-8ae61-default-rtdb.europe-west1.firebasedatabase.app/requests/${t}.json?auth=`+s),a=await i.json(),r=[];for(const n in a){const e={id:n,serviceId:t,userEmail:a[n].userEmail,message:a[n].message};r.push(e)}e.commit("setRequests",r),console.log(r)}},Ot={getAllRequests(e,t,s,i){const a=i.userId;return e.requests.filter((e=>e.serviceId===a))},hasRequest(e,t){return t.requests&&t.requests.length>0}},Et={namespaced:!0,state(){return{requests:[]}},mutations:Wt,actions:Ht,getters:Ot},Lt={setUser(e,t){e.token=t.token,e.userId=t.userId,e.tokenExpiration=t.tokenExpiration}},Mt=(s(1703),{async login(e,t){const s=await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDEqbwc3ueiGZQ69g8RgQD8RozQmmRIsD0",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),i=await s.json();if(!s.ok){console.log(i);const e=new Error(i.message||"Falied to authenticate.");throw e}e.commit("setUser",{token:i.idToken,userId:i.localId,tokenExpiration:i.expiresIn})},async signup(e,t){const s=await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDEqbwc3ueiGZQ69g8RgQD8RozQmmRIsD0",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),i=await s.json();if(!s.ok){console.log(i);const e=new Error(i.message||"Falied to authenticate.");throw e}e.commit("setUser",{token:i.idToken,userId:i.localId,tokenExpiration:i.expiresIn})},logout(e){e.commit("setUser",{token:null,userId:null,tokenExpiration:null})}}),Zt={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token}},zt={state(){return{userId:null,token:null,tokenExpiration:null}},mutations:Lt,actions:Mt,getters:Zt};const Pt=(0,Tt.MT)({modules:{services:jt,requests:Et,auth:zt}});var At=Pt;const Bt={class:"card"};function Yt(e,t){return(0,r.wg)(),(0,r.iD)("div",Bt,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}const Gt={},Kt=(0,c.Z)(Gt,[["render",Yt],["__scopeId","data-v-18915a19"]]);var Qt=Kt;function Jt(e,t,s,i,a,l){return(0,r.wg)(),(0,r.iD)("span",{class:(0,n.C_)(["badge",s.type])},(0,n.zw)(l.text),3)}var Xt={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}};const es=(0,c.Z)(Xt,[["render",Jt],["__scopeId","data-v-3500a94a"]]);var ts=es;const ss=(0,i.ri)(xt);ss.use(ct),ss.use(At),ss.component("base-card",Qt),ss.component("base-button",Vt),ss.component("base-badge",ts),ss.mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,r){if(!i){var n=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],r=e[c][2];for(var l=!0,o=0;o<i.length;o++)(!1&r||n>=r)&&Object.keys(s.O).every((function(e){return s.O[e](i[o])}))?i.splice(o--,1):(l=!1,r<n&&(n=r));if(l){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,n=i[0],l=i[1],o=i[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(o)var c=o(s)}for(t&&t(i);d<n.length;d++)r=n[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},i=self["webpackChunkservice_app"]=self["webpackChunkservice_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(6827)}));i=s.O(i)})();
//# sourceMappingURL=app.547d6fcc.js.map